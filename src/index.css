@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    /* Mesh Gradient Animation */
    .animate-mesh {
        background: linear-gradient(45deg,
                #111827,
                #991b1b,
                #c2410c,
                #ca8a04,
                #111827);
        background-size: 400% 400%;
        animation: mesh-flow 15s ease infinite;
    }

    @keyframes mesh-flow {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }

    /* Entry Animations */
    .animate-in {
        animation-duration: 300ms;
        animation-fill-mode: both;
        animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }

    .fade-in {
        animation-name: fade-in;
    }

    .zoom-in {
        animation-name: zoom-in;
    }

    .slide-in-from-top-4 {
        animation-name: slide-in-top-4;
    }

    .slide-in-from-bottom-6 {
        animation-name: slide-in-bottom-6;
    }

    .slide-in-from-bottom-full {
        animation-name: slide-in-bottom-full;
    }

    @keyframes fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes zoom-in {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
    }

    @keyframes slide-in-top-4 {
        from { transform: translateY(-1rem); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    @keyframes slide-in-bottom-6 {
        from { transform: translateY(1.5rem); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    @keyframes slide-in-bottom-full {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
    }
}

/* O recibo agora é visível na tela por padrão para visualização */
#receipt {
    display: block;
    background: white;
    color: black;
    max-width: 400px;
    margin: 20px auto;
    padding: 20px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    border: 1px solid #e5e7eb;
}

/* No totem (Menu/Start), podemos querer esconder o recibo da página principal se ele estiver lá */
.totem-page #receipt {
    display: none;
}

@media print {

    /* 1. CONFIGURAÇÃO DA PÁGINA */
    @page {
        margin: 0 !important;
        size: 70mm auto !important;
    }

    /* 2. LIMPEZA DA TELA */
    /* Esconde absolutamente tudo que tem a classe screen-only */
    .screen-only,
    header,
    nav,
    button,
    footer,
    .no-print {
        display: none !important;
    }

    /* Remove fundos e cores de tudo para economizar tinta e evitar erros */
    html,
    body {
        background: white !important;
        margin: 0 !important;
        padding: 0 !important;
        width: 70mm !important;
    }

    /* Esconde o conteúdo principal se não for o recibo */
    #root>div:not(.print-container) {
        /* Se o recibo estiver fora do fluxo principal, isso ajuda */
    }

    /* 3. FORMATAÇÃO DO RECIBO PARA IMPRESSÃO */
    #receipt {
        display: block !important;
        visibility: visible !important;
        position: static !important;
        /* Static é melhor para o fluxo de impressão */
        width: 70mm !important;
        margin: 0 !important;
        padding: 5mm 2mm !important;
        box-shadow: none !important;
        border: none !important;
        font-family: 'Courier New', Courier, monospace !important;
        font-size: 10pt !important;
        line-height: 1.2 !important;
    }

    /* Garante que imagens e decorações sejam removidas */
    img {
        display: none !important;
    }

    /* Ajustes internos do recibo */
    #receipt table {
        width: 100% !important;
        border-collapse: collapse !important;
    }

    #receipt tr {
        border-bottom: 1pt dashed #000 !important;
    }

    #receipt td {
        padding: 1mm 0 !important;
    }

    #receipt .flex {
        display: flex !important;
        justify-content: space-between !important;
    }
}